<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1116" height="700"><defs/><g><g transform="translate(-222,-206) scale(1,1)"><path fill="#ffffff" stroke="none" d="M 864 416 L 1317 416 L 1327 426 L 1327 895 L 864 895 L 864 416"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 864 416 L 1317 416 L 1327 426 L 1327 895 L 864 895 L 864 416 L 864 416" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 1317 416 L 1317 426 L 1327 426 L 1317 416" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="22px" font-style="normal" font-weight="normal" text-decoration="none" x="869" y="443">智能合约</text></g></g><g transform="translate(-222,-206) scale(1,1)"><rect fill="#ffffff" stroke="none" x="536" y="304" width="175" height="32"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 536 304 L 711 304 L 711 336 L 536 336 L 536 304 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="545.5" y="326.5">获取账户余额（未花交易）</text></g></g><g transform="translate(-222,-206) scale(1,1)"><path fill="#ffffff" stroke="none" d="M 576 398.5 L 632.5 384 L 689 398.5 L 632.5 413 L 576 398.5"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 576 398.5 L 632.5 384 L 689 398.5 L 632.5 413 L 576 398.5 L 576 398.5" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="606.5" y="405">余额足够</text></g></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 632 336 L 632 384" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="#000000" stroke="none" d="M 627.790482243984 373.83732514237585 L 632 384 L 636.209517756016 373.83732514237585"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 627.790482243984 373.83732514237585 L 632 384 L 636.209517756016 373.83732514237585 L 627.790482243984 373.83732514237585" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="639.5" y="365.5">是</text></g></g><g transform="translate(-222,-206) scale(1,1)"><rect fill="#ffffff" stroke="none" x="560" y="464" width="188" height="32"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 560 464 L 748 464 L 748 496 L 560 496 L 560 464 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="569.5" y="486.5">根据资产类型构建交易单格式</text></g></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 632 413 L 632 464" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="#000000" stroke="none" d="M 627.790482243984 453.83732514237585 L 632 464 L 636.209517756016 453.83732514237585"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 627.790482243984 453.83732514237585 L 632 464 L 636.209517756016 453.83732514237585 L 627.790482243984 453.83732514237585" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><rect fill="#ffffff" stroke="none" x="768" y="376" width="74" height="32"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 768 376 L 842 376 L 842 408 L 768 408 L 768 376 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="792" y="398.5">退出</text></g></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 689 400 L 768 400" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="#000000" stroke="none" d="M 757.8373251423759 404.209517756016 L 768 400 L 757.8373251423758 395.790482243984"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 757.8373251423759 404.209517756016 L 768 400 L 757.8373251423758 395.790482243984 L 757.8373251423759 404.209517756016" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="721.5" y="391.5">否</text></g></g><g transform="translate(-222,-206) scale(1,1)"><rect fill="#ffffff" stroke="none" x="296" y="464" width="188" height="32"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 296 464 L 484 464 L 484 496 L 296 496 L 296 464 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="305.5" y="486.5">推送给钱包拥有者交易单信息</text></g></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 560 480 L 484 480" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="#000000" stroke="none" d="M 494.16267485762415 475.790482243984 L 484 480 L 494.16267485762415 484.209517756016"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 494.16267485762415 475.790482243984 L 484 480 L 494.16267485762415 484.209517756016 L 494.16267485762415 475.790482243984" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><rect fill="#ffffff" stroke="none" x="896" y="464" width="405.419921875" height="32"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 896 464 L 1301.419921875 464 L 1301.419921875 496 L 896 496 L 896 464 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="905.5" y="486.5">执行钱包合约，新增交易单和钱包nonce，交易但状态为【待签署】</text></g></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 748 480 L 896 480" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="#000000" stroke="none" d="M 885.8373251423759 484.209517756016 L 896 480 L 885.8373251423758 475.790482243984"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 885.8373251423759 484.209517756016 L 896 480 L 885.8373251423758 475.790482243984 L 885.8373251423759 484.209517756016" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="#ffffff" stroke="none" d="M 536 592 L 572 576 L 716 576 L 752 592 L 716 608 L 572 608 L 536 592"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 536 592 L 572 576 L 716 576 L 752 592 L 716 608 L 572 608 L 536 592 L 536 592" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="605" y="598.5">收集必要签名</text></g></g><g transform="translate(-222,-206) scale(1,1)"><rect fill="#ffffff" stroke="none" x="232" y="576" width="112.18994140625" height="32"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 232 576 L 344.18994140625 576 L 344.18994140625 608 L 232 608 L 232 576 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="241.5" y="598.5">签名交易单hash</text></g></g><g transform="translate(-222,-206) scale(1,1)"><path fill="#ffffff" stroke="none" d="M 248.5 216 L 303.5 216 Q 320 216 320 232.5 L 320 231.5 Q 320 248 303.5 248 L 248.5 248 Q 232 248 232 231.5 L 232 232.5 Q 232 216 248.5 216 Z"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 248.5 216 L 303.5 216 Q 320 216 320 232.5 L 320 231.5 Q 320 248 303.5 248 L 248.5 248 Q 232 248 232 231.5 L 232 232.5 Q 232 216 248.5 216 Z" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="243.5" y="238.5">钱包客户端</text></g></g><g transform="translate(-222,-206) scale(1,1)"><rect fill="#ffffff" stroke="none" x="416" y="216" width="331" height="32"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 416 216 L 747 216 L 747 248 L 416 248 L 416 216 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="425.5" y="238.5">提交参数：钱包地址，到账地址，资产类型，转账数量</text></g></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 320 232 L 416 232" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="#000000" stroke="none" d="M 405.83732514237585 236.209517756016 L 416 232 L 405.83732514237585 227.790482243984"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 405.83732514237585 236.209517756016 L 416 232 L 405.83732514237585 227.790482243984 L 405.83732514237585 236.209517756016" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 624 248 L 624 304" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="#000000" stroke="none" d="M 619.790482243984 293.83732514237585 L 624 304 L 628.209517756016 293.83732514237585"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 619.790482243984 293.83732514237585 L 624 304 L 628.209517756016 293.83732514237585 L 619.790482243984 293.83732514237585" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 277 248 L 277 576" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="#000000" stroke="none" d="M 272.790482243984 565.8373251423759 L 277 576 L 281.209517756016 565.8373251423759"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 272.790482243984 565.8373251423759 L 277 576 L 281.209517756016 565.8373251423759 L 272.790482243984 565.8373251423759" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><rect fill="#ffffff" stroke="none" x="896" y="576" width="227" height="32"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 896 576 L 1123 576 L 1123 608 L 896 608 L 896 576 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="905.5" y="598.5">执行钱包合约，更新交易单签名确认</text></g></g><g transform="translate(-222,-206) scale(1,1)"><rect fill="#ffffff" stroke="none" x="520" y="672" width="253" height="32"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 520 672 L 773 672 L 773 704 L 520 704 L 520 672 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="529.5" y="694.5">最后一个签名者触发合约，发送交易事件</text></g></g><g transform="translate(-222,-206) scale(1,1)"><rect fill="#ffffff" stroke="none" x="400" y="760" width="437.4375" height="32"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 400 760 L 837.4375 760 L 837.4375 792 L 400 792 L 400 760 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="409.5" y="782.5">OpenWallet节点监听事件，并执行交易驱动程序，发送交易单到主链网络</text></g></g><g transform="translate(-222,-206) scale(1,1)"><rect fill="#ffffff" stroke="none" x="544" y="824" width="213.5556640625" height="32"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 544 824 L 757.5556640625 824 L 757.5556640625 856 L 544 856 L 544 824 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="553.5" y="846.5">OpenWallet节点监听交易id已确认</text></g></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 392 464 L 392 360 M 392 360 A 8 8 0 0 0 384 352 L 312 352 M 312 352 A 8 8 0 0 1 304 344 L 304 248" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="#000000" stroke="none" d="M 308.209517756016 258.16267485762415 L 304 248 L 299.790482243984 258.16267485762415"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 308.209517756016 258.16267485762415 L 304 248 L 299.790482243984 258.16267485762415 L 308.209517756016 258.16267485762415" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 344 591 L 536 591" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="#000000" stroke="none" d="M 525.8373251423759 595.209517756016 L 536 591 L 525.8373251423758 586.790482243984"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 525.8373251423759 595.209517756016 L 536 591 L 525.8373251423758 586.790482243984 L 525.8373251423759 595.209517756016" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 752 592 L 896 592" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="#000000" stroke="none" d="M 885.8373251423759 596.209517756016 L 896 592 L 885.8373251423758 587.790482243984"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 885.8373251423759 596.209517756016 L 896 592 L 885.8373251423758 587.790482243984 L 885.8373251423759 596.209517756016" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><rect fill="#ffffff" stroke="none" x="896" y="672" width="227" height="32"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 896 672 L 1123 672 L 1123 704 L 896 704 L 896 672 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="905.5" y="694.5">更新合约的交易单状态为【待广播】</text></g></g><g transform="translate(-222,-206) scale(1,1)"><rect fill="#ffffff" stroke="none" x="896" y="760" width="227" height="32"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 896 760 L 1123 760 L 1123 792 L 896 792 L 896 760 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="905.5" y="782.5">更新合约的交易单状态为【待确认】</text></g></g><g transform="translate(-222,-206) scale(1,1)"><rect fill="#ffffff" stroke="none" x="896" y="824" width="188" height="32"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 896 824 L 1084 824 L 1084 856 L 896 856 L 896 824 Z Z" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><g><path fill="none" stroke="none"/><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="905.5" y="846.5">更新交易单状态为【已确认】</text></g></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 644 608 L 644 672" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="#000000" stroke="none" d="M 639.790482243984 661.8373251423759 L 644 672 L 648.209517756016 661.8373251423759"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 639.790482243984 661.8373251423759 L 644 672 L 648.209517756016 661.8373251423759 L 639.790482243984 661.8373251423759" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 641 704 L 641 760" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="#000000" stroke="none" d="M 636.790482243984 749.8373251423759 L 641 760 L 645.209517756016 749.8373251423759"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 636.790482243984 749.8373251423759 L 641 760 L 645.209517756016 749.8373251423759 L 636.790482243984 749.8373251423759" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 640 792 L 640 824" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="#000000" stroke="none" d="M 635.790482243984 813.8373251423759 L 640 824 L 644.209517756016 813.8373251423759"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 635.790482243984 813.8373251423759 L 640 824 L 644.209517756016 813.8373251423759 L 635.790482243984 813.8373251423759" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 773 688 L 896 688" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="#000000" stroke="none" d="M 885.8373251423759 692.209517756016 L 896 688 L 885.8373251423758 683.790482243984"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 885.8373251423759 692.209517756016 L 896 688 L 885.8373251423758 683.790482243984 L 885.8373251423759 692.209517756016" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 837 776 L 896 776" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="#000000" stroke="none" d="M 885.8373251423759 780.209517756016 L 896 776 L 885.8373251423758 771.790482243984"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 885.8373251423759 780.209517756016 L 896 776 L 885.8373251423758 771.790482243984 L 885.8373251423759 780.209517756016" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 758 840 L 896 840" stroke-miterlimit="10"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="#000000" stroke="none" d="M 885.8373251423759 844.209517756016 L 896 840 L 885.8373251423758 835.790482243984"/></g><g transform="translate(-222,-206) scale(1,1)"><path fill="none" stroke="#000000" d="M 885.8373251423759 844.209517756016 L 896 840 L 885.8373251423758 835.790482243984 L 885.8373251423759 844.209517756016" stroke-miterlimit="10"/></g></g></svg>